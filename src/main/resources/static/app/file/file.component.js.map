{"version":3,"file":"file.component.js","sourceRoot":"","sources":["file:///C:/WorkspaceProjectTimeFrontEnd/time-tracker-frontend/tmp/broccoli_type_script_compiler-input_base_path-PrQq698J.tmp/0/src/app/file/file.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAAyE,eAAe,CAAC,CAAA;AACzF,6BAA0B,gBAAgB,CAAC,CAAA;AAC3C,wBAAsB,WAAW,CAAC,CAAA;AAUlC;IAQI,uBAAoB,WAAwB,EACxB,SAAqB;QADrB,gBAAW,GAAX,WAAW,CAAa;QACxB,cAAS,GAAT,SAAS,CAAY;QAN/B,gBAAW,GAAG,IAAI,mBAAY,EAAW,CAAC;QAEpD,kBAAa,GAAG,KAAK,CAAC;QAKN,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;IAC5C,CAAC;IAED,gCAAQ,GAAR;QACI,IAAI,CAAC,OAAO,GAAG,oCAAoC,GAAG,IAAI,CAAC,SAAS,GAAG,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;IACnG,CAAC;IAED,qCAAa,GAAb,UAAc,KAAU;QAAxB,iBAOC;QANG,IAAI,CAAC,WAAW;aACX,4BAA4B,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC;aAC/D,IAAI,CAAC,UAAA,IAAI,IAAI,OAAA,CAAC,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAA7B,CAA6B,CAAC;aAC3C,KAAK,CAAC,UAAA,KAAK,IAAI,OAAA,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAlB,CAAkB,CAAC,CAAC;QACxC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;IAE/B,CAAC;IACD,uCAAe,GAAf,UAAgB,KAAU;QACtB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;IAC9B,CAAC;IAED,mCAAW,GAAX,UAAY,KAAK;QACb,IAAI,gBAAgB,GAAG,KAAK,CAAC,MAAM,CAAC;QACpC,IAAI,MAAM,GAAG,KAAK,CAAC;QACnB,GAAG,CAAC;YACA,EAAE,CAAC,CAAC,gBAAgB,KAAK,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,CAAC;gBACrD,MAAM,GAAG,IAAI,CAAC;YAClB,CAAC;YACD,gBAAgB,GAAG,gBAAgB,CAAC,UAAU,CAAC;QACnD,CAAC,QAAQ,gBAAgB,EAAE;QAC3B,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;YACV,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC/B,CAAC;IACL,CAAC;IAxCD;QAAC,YAAK,EAAE;;kDAAA;IACR;QAAC,YAAK,EAAE;;oDAAA;IACR;QAAC,aAAM,EAAE;;sDAAA;IAXb;QAAC,gBAAS,CAAC;YACP,QAAQ,EAAE,MAAM,CAAC,EAAE;YACnB,QAAQ,EAAE,YAAY;YACtB,WAAW,EAAE,qBAAqB;YAC9B,IAAI,EAAE;gBACN,kBAAkB,EAAE,qBAAqB;aAC5C;SACJ,CAAC;;qBAAA;IA2CF,oBAAC;AAAD,CAAC,AA1CD,IA0CC;AA1CY,qBAAa,gBA0CzB,CAAA","sourcesContent":["import {Component, Input, Output, EventEmitter, OnInit, ElementRef} from \"@angular/core\";\r\nimport {FileService} from \"./file.service\";\r\nimport {DocFile} from \"./docfile\";\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    selector: 'tr.special',\r\n    templateUrl: 'file.component.html',\r\n        host: {\r\n        '(document:click)': 'handleClick($event)'\r\n    }\r\n})\r\nexport class FileComponent implements OnInit {\r\n    @Input() docFile: DocFile;\r\n    @Input() projectId: number;\r\n    @Output() fileDeleted = new EventEmitter<boolean>();\r\n    fileUrl: String;\r\n    confirmDelete = false;\r\n    public elementRef;\r\n\r\n    constructor(private fileService: FileService,\r\n                private myElement: ElementRef) {\r\n                    this.elementRef = myElement;\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.fileUrl = \"http://localhost:8080/api/project/\" + this.projectId + \"/\" + this.docFile.name;\r\n    }\r\n\r\n    onClickDelete(event: any) {\r\n        this.fileService\r\n            .deleteFileByNameAndProjectId(this.docFile.name, this.projectId)\r\n            .then(resp => (this.fileDeleted.emit(true)))\r\n            .catch(error => console.log(error));\r\n        this.confirmDelete = false;\r\n\r\n    }\r\n    confirmDeletion(event: any) {\r\n        this.confirmDelete = true;\r\n    }\r\n\r\n    handleClick(event) {\r\n        var clickedComponent = event.target;\r\n        var inside = false;\r\n        do {\r\n            if (clickedComponent === this.elementRef.nativeElement) {\r\n                inside = true;\r\n            }\r\n            clickedComponent = clickedComponent.parentNode;\r\n        } while (clickedComponent);\r\n        if (!inside) {\r\n            this.confirmDelete = false;\r\n        }\r\n    }\r\n}"]}